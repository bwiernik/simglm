<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Master continuous simulation function. — sim_reg • simglm</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Master continuous simulation function. — sim_reg" />
<meta property="og:description" content="Takes simulation parameters as inputs and returns simulated data." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">simglm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/simulation_arguments.html">Simulation Arguments Details for `simglm`</a>
    </li>
    <li>
      <a href="../articles/tidy_simulation.html">Tidy Simulation with `simglm`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lebebr01/simglm">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Master continuous simulation function.</h1>
    <small class="dont-index">Source: <a href='https://github.com/lebebr01/simglm/blob/master/R/sim_reg.r'><code>R/sim_reg.r</code></a></small>
    <div class="hidden name"><code>sim_reg.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Takes simulation parameters as inputs and returns simulated data.</p>
    </div>

    <pre class="usage"><span class='fu'>sim_reg</span>(
  <span class='no'>fixed</span>,
  <span class='no'>random</span>,
  <span class='no'>random3</span>,
  <span class='no'>fixed_param</span>,
  <span class='kw'>random_param</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>random_param3</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='no'>cov_param</span>,
  <span class='no'>k</span>,
  <span class='no'>n</span>,
  <span class='no'>p</span>,
  <span class='no'>error_var</span>,
  <span class='no'>with_err_gen</span>,
  <span class='kw'>arima</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='no'>data_str</span>,
  <span class='kw'>cor_vars</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>fact_vars</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>),
  <span class='kw'>unbal</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>level2</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>level3</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>),
  <span class='kw'>unbal_design</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>level2</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>level3</span> <span class='kw'>=</span> <span class='kw'>NULL</span>),
  <span class='kw'>lvl1_err_params</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>arima_mod</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>),
  <span class='kw'>contrasts</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>homogeneity</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>heterogeneity_var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>cross_class_params</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>knot_args</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>NULL</span>),
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fixed</th>
      <td><p>One sided formula for fixed effects in the simulation.
To suppress intercept add -1 to formula.</p></td>
    </tr>
    <tr>
      <th>random</th>
      <td><p>One sided formula for random effects in the simulation. 
Must be a subset of fixed.</p></td>
    </tr>
    <tr>
      <th>random3</th>
      <td><p>One sided formula for random effects at third level in the 
simulation. Must be a subset of fixed (and likely of random).</p></td>
    </tr>
    <tr>
      <th>fixed_param</th>
      <td><p>Fixed effect parameter values (i.e. beta weights).
Must be same length as fixed.</p></td>
    </tr>
    <tr>
      <th>random_param</th>
      <td><p>A list of named elements that must contain:</p><ul>
<li><p>random_var = variance of random parameters,</p></li>
<li><p>rand_gen = Name of simulation function for random effects.</p></li>
</ul><p>Optional elements are:</p><ul>
<li><p>ther: Theorectial mean and variance from rand_gen,</p></li>
<li><p>ther_sim: Simulate mean/variance for standardization purposes,</p></li>
<li><p>cor_vars: Correlation between random effects,</p></li>
<li><p>...: Additional parameters needed for rand_gen function.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>random_param3</th>
      <td><p>A list of named elements that must contain:</p><ul>
<li><p>random_var = variance of random parameters,</p></li>
<li><p>rand_gen = Name of simulation function for random effects.</p></li>
</ul><p>Optional elements are:</p><ul>
<li><p>ther: Theorectial mean and variance from rand_gen,</p></li>
<li><p>ther_sim: Simulate mean/variance for standardization purposes,</p></li>
<li><p>cor_vars: Correlation between random effects,</p></li>
<li><p>...: Additional parameters needed for rand_gen function.</p></li>
</ul></td>
    </tr>
    <tr>
      <th>cov_param</th>
      <td><p>List of arguments to pass to the continuous generating 
function, must be the same order as the variables specified in fixed. 
This list does not include intercept, time, factors, or 
interactions. Required arguments include:</p><ul>
<li><p>dist_fun: This is a quoted R distribution function.</p></li>
<li><p>var_type: This is the level of variable to generate. Must be 
    either 'single', 'level1', 'level2', or 'level3'. 
    Must be same order as fixed formula above.</p></li>
</ul><p>Optional arguments to the distribution functions are in a nested list,
 see the examples or vignettes for example code.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>Number of third level clusters.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Cluster sample size.</p></td>
    </tr>
    <tr>
      <th>p</th>
      <td><p>Within cluster sample size.</p></td>
    </tr>
    <tr>
      <th>error_var</th>
      <td><p>Scalar of error variance.</p></td>
    </tr>
    <tr>
      <th>with_err_gen</th>
      <td><p>Distribution function to pass on to the level one
simulation of errors.</p></td>
    </tr>
    <tr>
      <th>arima</th>
      <td><p>TRUE/FALSE flag indicating whether residuals should 
be correlated. If TRUE, must specify a valid model to pass to 
arima.sim via the arima_mod argument. 
See <code><a href='https://rdrr.io/r/stats/arima.sim.html'>arima.sim</a></code> for examples.</p></td>
    </tr>
    <tr>
      <th>data_str</th>
      <td><p>Type of data. Must be "cross", "long", or "single".</p></td>
    </tr>
    <tr>
      <th>cor_vars</th>
      <td><p>A vector of correlations between variables.</p></td>
    </tr>
    <tr>
      <th>fact_vars</th>
      <td><p>A nested list of factor, categorical, or ordinal variable 
   specification, each list must include:</p><ul>
<li><p>numlevels = Number of levels for ordinal or factor variables.</p></li>
<li><p>var_type = Must be 'single', 'level1', 'level2', or 'level3'.</p></li>
</ul><p>Optional arguments include:</p><ul>
<li><p>replace</p></li>
<li><p>prob</p></li>
<li><p>value.labels</p></li>
</ul><p>See also <code><a href='https://rdrr.io/r/base/sample.html'>sample</a></code> for use of these optional arguments.</p></td>
    </tr>
    <tr>
      <th>unbal</th>
      <td><p>A named TRUE/FALSE list specifying whether unbalanced simulation 
design is desired. The named elements must be: "level2" or "level3" representing
unbalanced simulation for level two and three respectively. Default is FALSE,
indicating balanced sample sizes at both levels.</p></td>
    </tr>
    <tr>
      <th>unbal_design</th>
      <td><p>When unbal = TRUE, this specifies the design for unbalanced
simulation in one of two ways. It can represent the minimum and maximum 
sample size within a cluster via a named list. This will be drawn from a 
random uniform distribution with min and max specified. 
Secondly, the actual sample sizes within each cluster
can be specified. This takes the form of a vector that must have the same length 
as the level two or three sample size. These are specified as a named list in which
level two sample size is controlled via "level2" and level three sample size is 
controlled via "level3".</p></td>
    </tr>
    <tr>
      <th>lvl1_err_params</th>
      <td><p>Additional parameters passed as a list on to the 
level one error generating function</p></td>
    </tr>
    <tr>
      <th>arima_mod</th>
      <td><p>A list indicating the ARIMA model to pass to arima.sim. 
See <code><a href='https://rdrr.io/r/stats/arima.sim.html'>arima.sim</a></code> for examples.</p></td>
    </tr>
    <tr>
      <th>contrasts</th>
      <td><p>An optional list that specifies the contrasts to be used 
for factor variables (i.e. those variables with .f or .c). 
See <code><a href='https://rdrr.io/r/stats/contrasts.html'>contrasts</a></code> for more detail.</p></td>
    </tr>
    <tr>
      <th>homogeneity</th>
      <td><p>Either TRUE (default) indicating homogeneity of variance
assumption is assumed or FALSE to indicate desire to generate heterogeneity 
of variance.</p></td>
    </tr>
    <tr>
      <th>heterogeneity_var</th>
      <td><p>Variable name as a character string to use for 
heterogeneity of variance simulation.</p></td>
    </tr>
    <tr>
      <th>cross_class_params</th>
      <td><p>A list of named parameters when cross classified 
data structures are desired. Must include the following arguments:</p><ul>
<li><p>num_ids: The number of cross classified clusters. These are in 
       addition to the typical cluster ids</p></li>
<li><p>random_param: This argument is a list of arguments passed to 
     <code><a href='sim_rand_eff.html'>sim_rand_eff</a></code>. These must include:</p><ul>
<li><p>random_var: The variance of the cross classified random effect</p></li>
<li><p>rand_gen: The random generating function used to generate the 
        cross classified random effect.</p></li>
</ul><p>Optional elements are:</p><ul>
<li><p>ther: Theorectial mean and variance from rand_gen,</p></li>
<li><p>ther_sim: Simulate mean/variance for standardization purposes,</p></li>
<li><p>cor_vars: Correlation between random effects,</p></li>
<li><p>...: Additional parameters needed for rand_gen function.</p></li>
</ul></li>
</ul></td>
    </tr>
    <tr>
      <th>knot_args</th>
      <td><p>A nested list of named knot arguments. See <code><a href='sim_knot.html'>sim_knot</a></code> 
for more details. Arguments must include:</p><ul>
<li><p>var</p></li>
<li><p>knot_locations</p></li>
</ul></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Not currently used.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Simulated data is useful for classroom demonstrations and to study 
the impacts of assumption violations on parameter estimates, statistical
power, or empirical type I error rates.</p>
<p>This function allows researchers a flexible approach to simulate regression
models, including single level models and cross sectional or longitudinal
linear mixed models (aka. hierarchical linear models or multilevel models).</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># generating parameters for single level regression</span>
<span class='no'>fixed</span> <span class='kw'>&lt;-</span> ~<span class='fl'>1</span> + <span class='no'>act</span> + <span class='no'>diff</span> + <span class='no'>numCourse</span> + <span class='no'>act</span>:<span class='no'>numCourse</span>
<span class='no'>fixed_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>1</span>, <span class='fl'>3.5</span>, <span class='fl'>2</span>)
<span class='no'>cov_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>dist_fun</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'rnorm'</span>, <span class='st'>'rnorm'</span>, <span class='st'>'rnorm'</span>),
   <span class='kw'>var_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"single"</span>, <span class='st'>"single"</span>, <span class='st'>"single"</span>),
   <span class='kw'>opts</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>4</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>3</span>),
   <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>3</span>)))
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>150</span>
<span class='no'>error_var</span> <span class='kw'>&lt;-</span> <span class='fl'>3</span>
<span class='no'>with_err_gen</span> <span class='kw'>&lt;-</span> <span class='st'>'rnorm'</span>
<span class='no'>temp_single</span> <span class='kw'>&lt;-</span> <span class='fu'>sim_reg</span>(<span class='kw'>fixed</span> <span class='kw'>=</span> <span class='no'>fixed</span>, <span class='kw'>fixed_param</span> <span class='kw'>=</span> <span class='no'>fixed_param</span>,
   <span class='kw'>cov_param</span> <span class='kw'>=</span> <span class='no'>cov_param</span>,
   <span class='kw'>n</span> <span class='kw'>=</span> <span class='no'>n</span>, <span class='kw'>error_var</span> <span class='kw'>=</span> <span class='no'>error_var</span>, <span class='kw'>with_err_gen</span> <span class='kw'>=</span> <span class='no'>with_err_gen</span>,
   <span class='kw'>data_str</span> <span class='kw'>=</span> <span class='st'>"single"</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sim_reg' is no longer supported and will be removed with v 1.0</span>
#&gt; <span class='warning'></span>
#&gt; <span class='warning'>              See tidy_simulation vignette.</span></div><div class='input'><span class='co'># Fitting regression to obtain parameter estimates</span>
<span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span>(<span class='no'>sim_data</span> ~ <span class='fl'>1</span> + <span class='no'>act</span> + <span class='no'>diff</span> + <span class='no'>numCourse</span> + <span class='no'>act</span>:<span class='no'>numCourse</span>,
   <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>temp_single</span>))</div><div class='output co'>#&gt; 
#&gt; Call:
#&gt; lm(formula = sim_data ~ 1 + act + diff + numCourse + act:numCourse, 
#&gt;     data = temp_single)
#&gt; 
#&gt; Residuals:
#&gt;     Min      1Q  Median      3Q     Max 
#&gt; -4.8783 -0.9630  0.1199  1.1711  4.5155 
#&gt; 
#&gt; Coefficients:
#&gt;               Estimate Std. Error t value Pr(&gt;|t|)    
#&gt; (Intercept)    1.82173    0.15853   11.49   &lt;2e-16 ***
#&gt; act            3.99039    0.03923  101.71   &lt;2e-16 ***
#&gt; diff           0.88013    0.05270   16.70   &lt;2e-16 ***
#&gt; numCourse      3.39736    0.05628   60.37   &lt;2e-16 ***
#&gt; act:numCourse  2.00014    0.01423  140.56   &lt;2e-16 ***
#&gt; ---
#&gt; Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1
#&gt; 
#&gt; Residual standard error: 1.877 on 145 degrees of freedom
#&gt; Multiple R-squared:  0.9962,	Adjusted R-squared:  0.9961 
#&gt; F-statistic:  9510 on 4 and 145 DF,  p-value: &lt; 2.2e-16
#&gt; </div><div class='input'>
<span class='co'># Longitudinal linear mixed model example</span>
<span class='no'>fixed</span> <span class='kw'>&lt;-</span> ~<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> + <span class='no'>act</span> + <span class='no'>time</span>:<span class='no'>act</span>
<span class='no'>random</span> <span class='kw'>&lt;-</span> ~<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span>
<span class='no'>fixed_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>, <span class='fl'>2</span>, <span class='fl'>6</span>, <span class='fl'>2.3</span>, <span class='fl'>7</span>)
<span class='no'>random_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>random_var</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>7</span>, <span class='fl'>4</span>, <span class='fl'>2</span>), <span class='kw'>rand_gen</span> <span class='kw'>=</span> <span class='st'>'rnorm'</span>)
<span class='no'>cov_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>dist_fun</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'rnorm'</span>, <span class='st'>'rnorm'</span>),
  <span class='kw'>var_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"level1"</span>, <span class='st'>"level2"</span>),
  <span class='kw'>opts</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>1.5</span>),
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>4</span>)))
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>150</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fl'>30</span>
<span class='no'>error_var</span> <span class='kw'>&lt;-</span> <span class='fl'>4</span>
<span class='no'>with_err_gen</span> <span class='kw'>&lt;-</span> <span class='st'>'rnorm'</span>
<span class='no'>data_str</span> <span class='kw'>&lt;-</span> <span class='st'>"long"</span>
<span class='no'>temp_long</span> <span class='kw'>&lt;-</span> <span class='fu'>sim_reg</span>(<span class='no'>fixed</span>, <span class='no'>random</span>, <span class='kw'>random3</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>fixed_param</span>,
   <span class='no'>random_param</span>, <span class='kw'>random_param3</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
   <span class='no'>cov_param</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>n</span>, <span class='no'>p</span>, <span class='no'>error_var</span>, <span class='no'>with_err_gen</span>, <span class='kw'>data_str</span> <span class='kw'>=</span> <span class='no'>data_str</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sim_reg' is no longer supported and will be removed with v 1.0</span>
#&gt; <span class='warning'></span>
#&gt; <span class='warning'>              See tidy_simulation vignette.</span></div><div class='input'>
<span class='co'>## fitting lmer model</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>lme4</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: Matrix</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span>(<span class='no'>sim_data</span> ~ <span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> + <span class='no'>act</span> + <span class='no'>time</span>:<span class='no'>act</span> +
  (<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> <span class='kw'>|</span> <span class='no'>clustID</span>),
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>temp_long</span>)</div><div class='output co'>#&gt; Linear mixed model fit by REML ['lmerMod']
#&gt; Formula: sim_data ~ 1 + time + diff + act + time:act + (1 + time + diff |  
#&gt;     clustID)
#&gt;    Data: temp_long
#&gt; REML criterion at convergence: 21411.98
#&gt; Random effects:
#&gt;  Groups   Name        Std.Dev. Corr       
#&gt;  clustID  (Intercept) 2.509               
#&gt;           time        2.016    -0.07      
#&gt;           diff        1.552    -0.11 -0.13
#&gt;  Residual             2.026               
#&gt; Number of obs: 4500, groups:  clustID, 150
#&gt; Fixed Effects:
#&gt; (Intercept)         time         diff          act     time:act  
#&gt;       4.030        1.962        5.902        2.284        7.035  </div><div class='input'>
<span class='co'># Three level example</span>
<span class='no'>fixed</span> <span class='kw'>&lt;-</span> ~<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> + <span class='no'>act</span> + <span class='no'>actClust</span> + <span class='no'>time</span>:<span class='no'>act</span>
<span class='no'>random</span> <span class='kw'>&lt;-</span> ~<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span>
<span class='no'>random3</span> <span class='kw'>&lt;-</span> ~ <span class='fl'>1</span> + <span class='no'>time</span>
<span class='no'>fixed_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>, <span class='fl'>2</span>, <span class='fl'>6</span>, <span class='fl'>2.3</span>, <span class='fl'>7</span>, <span class='fl'>0</span>)
<span class='no'>random_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>random_var</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>7</span>, <span class='fl'>4</span>, <span class='fl'>2</span>), <span class='kw'>rand_gen</span> <span class='kw'>=</span> <span class='st'>'rnorm'</span>)
<span class='no'>random_param3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>random_var</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>4</span>, <span class='fl'>2</span>), <span class='kw'>rand_gen</span> <span class='kw'>=</span> <span class='st'>'rnorm'</span>)
<span class='no'>cov_param</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>dist_fun</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'rnorm'</span>, <span class='st'>'rnorm'</span>, <span class='st'>'rnorm'</span>),
     <span class='kw'>var_type</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"level1"</span>, <span class='st'>"level2"</span>, <span class='st'>"level3"</span>),
     <span class='kw'>opts</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>1.5</span>),
     <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>4</span>),
     <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>2</span>)))
<span class='no'>k</span> <span class='kw'>&lt;-</span> <span class='fl'>10</span>
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>15</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fl'>10</span>
<span class='no'>error_var</span> <span class='kw'>&lt;-</span> <span class='fl'>4</span>
<span class='no'>with_err_gen</span> <span class='kw'>&lt;-</span> <span class='st'>'rnorm'</span>
<span class='no'>data_str</span> <span class='kw'>&lt;-</span> <span class='st'>"long"</span>
<span class='no'>temp_three</span> <span class='kw'>&lt;-</span> <span class='fu'>sim_reg</span>(<span class='no'>fixed</span>, <span class='no'>random</span>, <span class='no'>random3</span>, <span class='no'>fixed_param</span>, <span class='no'>random_param</span>,
<span class='no'>random_param3</span>, <span class='no'>cov_param</span>, <span class='no'>k</span>,<span class='no'>n</span>, <span class='no'>p</span>, <span class='no'>error_var</span>, <span class='no'>with_err_gen</span>,
   <span class='kw'>data_str</span> <span class='kw'>=</span> <span class='no'>data_str</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'sim_reg' is no longer supported and will be removed with v 1.0</span>
#&gt; <span class='warning'></span>
#&gt; <span class='warning'>              See tidy_simulation vignette.</span></div><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>lme4</span>)
<span class='fu'><a href='https://rdrr.io/pkg/lme4/man/lmer.html'>lmer</a></span>(<span class='no'>sim_data</span> ~ <span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> + <span class='no'>act</span> + <span class='no'>actClust</span> + <span class='no'>time</span>:<span class='no'>act</span> +
   (<span class='fl'>1</span> + <span class='no'>time</span> + <span class='no'>diff</span> <span class='kw'>|</span> <span class='no'>clustID</span>) +
   (<span class='fl'>1</span> <span class='kw'>|</span> <span class='no'>clust3ID</span>), <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>temp_three</span>)</div><div class='output co'>#&gt; Linear mixed model fit by REML ['lmerMod']
#&gt; Formula: sim_data ~ 1 + time + diff + act + actClust + time:act + (1 +  
#&gt;     time + diff | clustID) + (1 | clust3ID)
#&gt;    Data: temp_three
#&gt; REML criterion at convergence: 7930.274
#&gt; Random effects:
#&gt;  Groups   Name        Std.Dev. Corr       
#&gt;  clustID  (Intercept) 2.580               
#&gt;           time        2.443     0.13      
#&gt;           diff        1.420     0.03 -0.09
#&gt;  clust3ID (Intercept) 2.429               
#&gt;  Residual             2.050               
#&gt; Number of obs: 1500, groups:  clustID, 150; clust3ID, 10
#&gt; Fixed Effects:
#&gt; (Intercept)         time         diff          act     actClust     time:act  
#&gt;     3.65516      1.78479      5.92290      2.37106      7.10681      0.03225  </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://brandonlebeau.org'>Brandon LeBeau</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


